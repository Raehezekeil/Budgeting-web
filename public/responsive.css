/* Mobile Responsive Foundation */

:root {
    --spacing-xs: 8px;
    --spacing-sm: 16px;
    --spacing-md: clamp(1rem, 2vw, 1.5rem);
    --spacing-lg: clamp(2rem, 4vw, 3rem);

    /* Fluid Typography */
    --font-xs: clamp(0.75rem, 1vw, 0.875rem);
    --font-sm: clamp(0.875rem, 1.5vw, 1rem);
    --font-md: clamp(1rem, 2vw, 1.125rem);
    --font-lg: clamp(1.25rem, 2.5vw, 1.5rem);
    --font-xl: clamp(1.5rem, 3vw, 2rem);
    --font-display: clamp(2rem, 5vw, 3.5rem);

    --sidebar-width: 280px;
}

/* BASE / MOBILE FIRST (< 992px) */

body {
    font-size: var(--font-md);
}

h1 {
    font-size: var(--font-display);
}

h2 {
    font-size: var(--font-xl);
}

h3 {
    font-size: var(--font-lg);
}

h4 {
    font-size: var(--font-md);
}

small {
    font-size: var(--font-xs);
}

/* Navigation - Mobile Drawer */
@media (max-width: 991.98px) {
    #sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: var(--sidebar-width);
        z-index: 1050;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 4px 0 24px rgba(0, 0, 0, 0.5);
    }

    #sidebar.show {
        transform: translateX(0);
    }

    /* Content shouldn't have left margin on mobile */
    #content {
        margin-left: 0 !important;
        /* Override inline styles if any, though usually handled by flex classes if bootstrap */
        width: 100%;
    }
}

/* Navigation - Desktop (>= 992px) */
@media (min-width: 992px) {
    #sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: var(--sidebar-width);
        transform: none !important;
        /* Always show */
        z-index: 1000;
    }

    #content {
        margin-left: var(--sidebar-width);
        width: calc(100% - var(--sidebar-width));
    }

    #mobile-overlay {
        display: none !important;
    }
}

/* Dashboard Grid */
.stat-card {
    min-height: 140px;
}

/* Summary Cards Row */
/* Automatically handled by Bootstrap .col-md-4, but let's reinforce spacing */
.row {
    --bs-gutter-y: var(--spacing-sm);
}

/* Transactions List Responsive */
@media (max-width: 768px) {
    .transaction-item {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 0.5rem;
    }

    .transaction-item .d-flex {
        width: 100%;
        justify-content: space-between;
    }

    /* Make buttons and inputs larger for touch */
    .btn,
    .form-control,
    .form-select {
        min-height: 44px;
        /* Touch target */
    }

    /* Filters scroll horizontally */
    .filter-scroll-container {
        display: flex;
        overflow-x: auto;
        padding-bottom: 0.5rem;
        gap: 0.5rem;
        -webkit-overflow-scrolling: touch;
    }

    /* Hide scrollbar */
    .filter-scroll-container::-webkit-scrollbar {
        display: none;
    }
}

/* Profile / Settings Responsive */
@media (max-width: 992px) {
    #view-settings .d-flex.align-items-stretch {
        flex-direction: column !important;
    }

    .col-lg-4,
    .col-lg-8 {
        width: 100%;
    }

    /* Order: Profile Card first, then Form */
    .col-lg-4 {
        order: 1;
        margin-bottom: var(--spacing-md);
    }

    .col-lg-8 {
        order: 2;
    }
}

/* General Utilities */
.tracking-wide {
    letter-spacing: 0.05em;
}

/* Fix Bootstrap Container Paddings for Mobile */
.container-fluid {
    padding-left: var(--spacing-sm) !important;
    padding-right: var(--spacing-sm) !important;
}

@media (min-width: 992px) {
    .container-fluid {
        padding-left: var(--spacing-lg) !important;
        padding-right: var(--spacing-lg) !important;
    }
}

/* Search Filters Responsive */
.search-filters input,
.search-filters select {
    box-shadow: none !important;
}

@media (max-width: 991px) {
    .search-filters {
        flex-direction: column;
        align-items: stretch !important;
        gap: 0.75rem !important;
    }

    .search-filters>div,
    .search-filters select,
    .search-filters button {
        width: 100% !important;
        max-width: 100% !important;
        flex: auto !important;
    }

    #filter-count {
        text-align: center;
        margin-top: 0.5rem;
    }
}